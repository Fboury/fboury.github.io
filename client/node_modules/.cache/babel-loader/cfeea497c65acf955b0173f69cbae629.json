{"ast":null,"code":"import { userConstants } from \"../../constants/userConstants\";\nimport userApi from \"../../API/userApi\";\nimport { commonConstants } from \"../../constants/commonConstants\";\n\nconst createUser = (user, navigate) => dispatch => {\n  return userApi.signup(user).then(res => {\n    dispatch({\n      type: userConstants.CREATE_USER,\n      payload: res.data\n    });\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: res\n    });\n    localStorage.setItem(\"token\", res.data.token);\n    localStorage.setItem(\"id\", res.data.user._id);\n    navigate();\n  }).catch(err => {\n    console.log(\"test de l'erreur create user\", err);\n    return dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: err.response\n    });\n  });\n};\n\nconst getUsers = () => dispatch => {\n  return userApi.getUsers().then(res => {\n    dispatch({\n      type: userConstants.GET_USERS,\n      payload: res.data.users\n    });\n    return res.data.users;\n  }).catch(err => {\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: err.response\n    });\n    console.log(\"test de l'erreur\", err.response);\n  });\n};\n\nconst getUser = idUser => dispatch => {\n  return userApi.getCurrentUserById(idUser).then(res => {\n    dispatch({\n      type: userConstants.GET_USER_BY_ID,\n      payload: res.data.user\n    });\n  }).catch(err => {\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: err.response\n    });\n    console.log(\"test de l'erreur get user\", err.response);\n  });\n};\n\nconst deleteUser = idUser => dispatch => {\n  return userApi.deleteUser({\n    idUser\n  }).then(() => {\n    dispatch({\n      type: userConstants.DELETE_USER\n    });\n  }).catch(err => {\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: err.response\n    });\n    console.log(\"test de l'erreur delete user\", err.response);\n  });\n};\n\nconst updateDroitsUserById = user => dispatch => {\n  return userApi.updateDroitsUserById(user).then(res => {\n    dispatch({\n      type: userConstants.UPDATE_DROITS_USER_BY_ID,\n      payload: res.data.user\n    });\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: res\n    });\n  }).catch(err => {\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: err.response\n    });\n    console.log(\"test de l'erreur update user\", err.response);\n  });\n};\n\nconst clearUser = () => dispatch => {\n  dispatch({\n    type: userConstants.CLEAR_USER\n  });\n};\n\nconst userActions = {\n  createUser,\n  getUsers,\n  getUser,\n  clearUser,\n  updateDroitsUserById,\n  deleteUser\n};\nexport default userActions;","map":{"version":3,"sources":["/Users/boubou/Documents/projets/FORMATIONS/React/testReactApi/client/src/redux/actions/userActions.js"],"names":["userConstants","userApi","commonConstants","createUser","user","navigate","dispatch","signup","then","res","type","CREATE_USER","payload","data","NOTIFICATION_HANDLING","localStorage","setItem","token","_id","catch","err","console","log","response","getUsers","GET_USERS","users","getUser","idUser","getCurrentUserById","GET_USER_BY_ID","deleteUser","DELETE_USER","updateDroitsUserById","UPDATE_DROITS_USER_BY_ID","clearUser","CLEAR_USER","userActions"],"mappings":"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","sourcesContent":["import { userConstants } from \"../../constants/userConstants\";\nimport userApi from \"../../API/userApi\";\nimport { commonConstants } from \"../../constants/commonConstants\";\n\nconst createUser = (user, navigate) => dispatch => {\n  return userApi\n    .signup(user)\n    .then(res => {\n      dispatch({ type: userConstants.CREATE_USER, payload: res.data });\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: res\n      });\n\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"id\", res.data.user._id);\n      navigate();\n    })\n    .catch(err => {\n      console.log(\"test de l'erreur create user\", err);\n\n      return dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: err.response\n      });\n    });\n};\n\nconst getUsers = () => dispatch => {\n  return userApi\n    .getUsers()\n    .then(res => {\n      dispatch({ type: userConstants.GET_USERS, payload: res.data.users });\n      return res.data.users;\n    })\n    .catch(err => {\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: err.response\n      });\n\n      console.log(\"test de l'erreur\", err.response);\n    });\n};\n\nconst getUser = idUser => dispatch => {\n  return userApi\n    .getCurrentUserById(idUser)\n    .then(res => {\n      dispatch({ type: userConstants.GET_USER_BY_ID, payload: res.data.user });\n    })\n    .catch(err => {\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: err.response\n      });\n\n      console.log(\"test de l'erreur get user\", err.response);\n    });\n};\n\nconst deleteUser = idUser => dispatch => {\n  return userApi\n    .deleteUser({ idUser })\n    .then(() => {\n      dispatch({ type: userConstants.DELETE_USER });\n    })\n    .catch(err => {\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: err.response\n      });\n\n      console.log(\"test de l'erreur delete user\", err.response);\n    });\n};\n\nconst updateDroitsUserById = user => dispatch => {\n  return userApi\n    .updateDroitsUserById(user)\n    .then(res => {\n      dispatch({\n        type: userConstants.UPDATE_DROITS_USER_BY_ID,\n        payload: res.data.user\n      });\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: res\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: err.response\n      });\n\n      console.log(\"test de l'erreur update user\", err.response);\n    });\n};\n\nconst clearUser = () => dispatch => {\n  dispatch({ type: userConstants.CLEAR_USER });\n};\n\nconst userActions = {\n  createUser,\n  getUsers,\n  getUser,\n  clearUser,\n  updateDroitsUserById,\n  deleteUser\n};\nexport default userActions;\n"]},"metadata":{},"sourceType":"module"}