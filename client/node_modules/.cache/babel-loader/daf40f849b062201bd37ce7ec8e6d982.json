{"ast":null,"code":"import piloteApi from \"../../API/piloteApi\";\nimport { piloteConstants } from \"../../constants/piloteConstants\";\nimport { commonConstants } from \"../../constants/commonConstants\";\n\nconst createPilote = (pilote, navigate) => dispatch => {\n  return piloteApi.createPilote(pilote).then(res => {\n    dispatch({\n      type: piloteConstants.CREATE_PILOTE,\n      payload: res.data\n    });\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: res\n    });\n    navigate();\n  }).catch(err => {\n    console.log(\"test de l'erreur create pilote\", err);\n    return dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: err.response\n    });\n  });\n};\n\nconst getPilotes = anneeEnCours => dispatch => {\n  return piloteApi.getPilotes(anneeEnCours).then(res => {\n    dispatch({\n      type: piloteConstants.GET_PILOTES,\n      payload: res.data.pilotes\n    });\n  }).catch(err => {\n    dispatch({\n      type: piloteConstants.GET_PILOTES,\n      payload: []\n    });\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: err.response\n    });\n    console.log(\"test de l'erreur\", err.response);\n  });\n};\n\nconst getPiloteByIdAndYear = (idPilote, anneeEnCours) => dispatch => {\n  return piloteApi.getPiloteByIdAndYear(idPilote, anneeEnCours).then(res => {\n    dispatch({\n      type: piloteConstants.GET_PILOTE,\n      payload: res.data.pilote\n    });\n  }).catch(err => {\n    dispatch({\n      type: piloteConstants.GET_PILOTE,\n      payload: []\n    });\n    dispatch({\n      type: commonConstants.NOTIFICATION_HANDLING,\n      payload: err.response\n    });\n    console.log(\"test de l'erreur\", err.response);\n  });\n};\n\nconst clearPilote = () => dispatch => {\n  dispatch({\n    type: piloteConstants.CLEAR_PILOTE\n  });\n};\n\nconst piloteActions = {\n  createPilote,\n  getPilotes,\n  getPiloteByIdAndYear,\n  clearPilote\n};\nexport default piloteActions;","map":{"version":3,"sources":["/Users/boubou/Documents/projets/FORMATIONS/React/testReactApi/client/src/redux/actions/piloteActions.js"],"names":["piloteApi","piloteConstants","commonConstants","createPilote","pilote","navigate","dispatch","then","res","type","CREATE_PILOTE","payload","data","NOTIFICATION_HANDLING","catch","err","console","log","response","getPilotes","anneeEnCours","GET_PILOTES","pilotes","getPiloteByIdAndYear","idPilote","GET_PILOTE","clearPilote","CLEAR_PILOTE","piloteActions"],"mappings":"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","sourcesContent":["import piloteApi from \"../../API/piloteApi\";\nimport { piloteConstants } from \"../../constants/piloteConstants\";\nimport { commonConstants } from \"../../constants/commonConstants\";\n\nconst createPilote = (pilote, navigate) => dispatch => {\n  return piloteApi\n    .createPilote(pilote)\n    .then(res => {\n      dispatch({ type: piloteConstants.CREATE_PILOTE, payload: res.data });\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: res\n      });\n\n      navigate();\n    })\n    .catch(err => {\n      console.log(\"test de l'erreur create pilote\", err);\n\n      return dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: err.response\n      });\n    });\n};\n\nconst getPilotes = anneeEnCours => dispatch => {\n  return piloteApi\n    .getPilotes(anneeEnCours)\n    .then(res => {\n      dispatch({\n        type: piloteConstants.GET_PILOTES,\n        payload: res.data.pilotes\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: piloteConstants.GET_PILOTES,\n        payload: []\n      });\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: err.response\n      });\n\n      console.log(\"test de l'erreur\", err.response);\n    });\n};\n\nconst getPiloteByIdAndYear = (idPilote, anneeEnCours) => dispatch => {\n  return piloteApi\n    .getPiloteByIdAndYear(idPilote, anneeEnCours)\n    .then(res => {\n      dispatch({\n        type: piloteConstants.GET_PILOTE,\n        payload: res.data.pilote\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: piloteConstants.GET_PILOTE,\n        payload: []\n      });\n      dispatch({\n        type: commonConstants.NOTIFICATION_HANDLING,\n        payload: err.response\n      });\n\n      console.log(\"test de l'erreur\", err.response);\n    });\n};\nconst clearPilote = () => dispatch => {\n  dispatch({\n    type: piloteConstants.CLEAR_PILOTE\n  });\n};\n\nconst piloteActions = {\n  createPilote,\n  getPilotes,\n  getPiloteByIdAndYear,\n  clearPilote\n};\nexport default piloteActions;\n"]},"metadata":{},"sourceType":"module"}